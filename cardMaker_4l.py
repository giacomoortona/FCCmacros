from ROOT import *
import os,re, optparse

def createDict():
	dd ={}
	channel            =[    "ch1"       ,    "ch1"       ,    "ch1"       ,    "ch1"       ,    "ch1"       ,   "ch1"       ,   "ch1"       ,   "ch2"       ,   "ch2"       ,  "ch2"       ,    "ch2"       ,    "ch2"       ,    "ch2"       ,    "ch2"       ,    "ch3"       ,    "ch3"       ,    "ch3"       ,    "ch3"       ,    "ch3"       ,    "ch4"       ,    "ch4"       ,    "ch4"       ,    "ch4"       ,    "ch4"      ,    "ch4"       ,    "ch5"         ,    "ch5"      ,    "ch5"       ,    "ch5"     , "ch5"     , "ch5"  ]
	process            =[    "HH"        ,  "zjets"       , "singleH"      ,  "ttbar"       ,   "ZZ"         ,   "ttV"       ,  "ttVV"       ,   "ttV"       ,  "ttVV"       ,  "HH"        ,   "zjets"      ,  "singleH"     ,   "ttbar"      ,  "ZZ"          , "HH"           ,   "ttZ"        ,  "ttH"         ,    "ZH"         , "bbH"         ,  "HH"          ,  "VH"          ,  "jgjj"        ,  "ttH"         ,  "ggjj"       ,  "singleH"     ,    "HH"          ,    "ZZ"       ,     "Zbb"      ,    "QCD"     , "singleH" , "ttbar"]
	xsec_tt_opt        =[    "-"         ,    "-"         ,    "-"         ,    "1.005"     ,    "-"         ,   "1.005"     ,   "1.005"     ,   "1.005"     ,   "1.005"     ,  "-"         ,    "-"         ,   "-"          ,  "1.005"       ,    "-"         ,    "-"         ,   "1.005"      ,   "-"          ,   "-"          ,   "-"          ,   "-"          ,   "-"          ,   "-"          ,   "-"          ,    "-"        ,    "-"         ,    "-"           ,    "-"        ,    "-"         ,    "-"       , "-"       , "1.005"]
	xsec_tt_int        =[     "-"        ,     "-"        ,    "-"         ,    "1.010"     ,     "-"        ,   "1.010"     ,   "1.010"     ,   "1.010"     ,   "1.010"     ,  "-"         ,     "-"        ,   "-"          ,    "1.010"     ,     "-"        ,     "-"        ,   "1.010"      ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "1.010"]
	xsec_tt_pes        =[     "-"        ,     "-"        ,    "-"         ,    "1.015"     ,     "-"        ,   "1.015"     ,   "1.015"     ,   "1.015"     ,   "1.015"     ,  "-"         ,     "-"        ,   "-"          ,    "1.015"     ,     "-"        ,     "-"        ,   "1.015"      ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "1.015"]

	xsec_ttH_opt       =[     "-"        ,    "-"         ,    "1.005"     ,    "-"         ,    "-"         ,   "-"         ,   "-"         ,   "-"         ,   "-"         ,  "-"         ,    "-"         ,   "1.005"      ,  "-"           ,    "-"         ,    "-"         ,   "-"          ,  "1.005"       ,   "1.005"       ,   "1.005"      ,   "-"          ,   "1.005"     ,   "-"	  	    ,   "1.005"      ,    "-"        ,    "1.005"     ,    "-"           ,    "-"        ,    "-"         ,    "-"       , "1.005"   , "-"    ]
	xsec_ttH_int       =[     "-"        ,     "-"        ,    "1.010"     ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "1.010"      ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "1.010"       ,   "1.010"       ,   "1.010"      ,    "-"         ,   "1.010"     ,    "-"	        ,   "1.010"      ,    "-"        ,    "1.010"     ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "1.010"   , "-"    ]
	xsec_ttH_pes       =[     "-"        ,     "-"        ,    "1.015"     ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "1.015"      ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "1.015"       ,   "1.015"       ,   "1.015"      ,    "-"         ,   "1.015"     ,    "-"	        ,   "1.015"      ,    "-"        ,    "1.015"     ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "1.015"   , "-"    ]

	xsec_QCD_opt       =[     "-"        ,    "-"         ,    "-"         ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "-"         ,   "-"          ,  "-"           ,   "-"          ,    "-"         ,   "-"          ,   "-"          ,    "-"         ,   "-"          ,    "-"        ,    "-"         ,    "-"           ,    "-"        ,    "-"          ,    "1.01 "   , "-"       , "-"    ]
	xsec_QCD_int       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"          ,     "1.02 "  , "-"       , "-"    ]
	xsec_QCD_pes       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"          ,     "1.03 "  , "-"       , "-"    ]

	xsec_Zbb_opt       =[     "-"        ,    "-"         ,    "-"         ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "-"         ,   "-"          ,  "-"           ,   "-"          ,    "-"         ,   "-"          ,   "-"          ,    "-"         ,   "-"          ,    "-"        ,    "-"         ,    "-"           ,    "-"        ,    "1.01 "     ,    "-"        , "-"       , "-"    ]
	xsec_Zbb_int       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "1.02 "     ,     "-"       , "-"       , "-"    ]
	xsec_Zbb_pes       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "1.03 "     ,     "-"       , "-"       , "-"    ]
#0.5/1/2 x gamma
	gamma_ID_opt       =[     "-"        ,    "-"         ,    "-"         ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "-"         ,   "-"          ,  "-"           ,   "-"          ,    "-"         ,   "1.010"      ,   "-"          ,    "-"         ,    "-"         ,    "-"        ,	  "1.010"     ,    "-"           ,    "-"        ,    "-"         ,     "-" 	 , "-"       , "-"    ]
	gamma_ID_int       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,   "1.020"      ,   "-"          ,    "-"         ,    "-"         ,    "-" 	     ,	  "1.020"     ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
	gamma_ID_pes       =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,   "1.040"      ,   "-"          ,    "-"         ,    "-"         ,    "-" 	     ,	  "1.040"     ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
#0.5/1/2 x gamma
	gamma_ID_bkg_opt   =[     "-"        ,    "-"         ,    "-"         ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "-"         ,   "-"          ,  "-"           ,   "-"          ,    "-"         ,   "-"          ,   "-"          ,     "-"        ,     "-"        ,     "-"       ,	  "-"         ,    "-"           ,    "-"        ,    "-"         ,     "-" 	 , "-"       , "-"    ]
	gamma_ID_bkg_int   =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,   "-"          ,   "-"          ,     "-"        ,     "-"        ,     "-" 	     ,	  "-"         ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
	gamma_ID_bkg_pes   =[     "-"        ,     "-"        ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,   "-"          ,   "-"          ,     "-"        ,     "-"        ,     "-" 	     ,	  "-"         ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
#1/2/3.5 x tau
	tauEff_opt         =[     "1.01"     ,    "1.01 "     ,    "1.01 "     ,     "-"        ,    "1.01 "     ,    "1.01"     ,    "1.01"     ,    "1.020"    ,    "1.020"    ,  "1.020"     ,    "1.020"     ,   "1.020"      ,  "-"           ,    "1.020"     ,    "-"         ,   "-"          ,  "-"           ,   "-"          ,    "-"         ,   "-"          ,   "-"          ,    "-"         ,   "-"          ,    "-"        ,      "-"       ,    "-"           ,    "-"        ,    "-"         ,     "-"      , "-"       , "-"    ]
	tauEff_int         =[     "1.02 "    ,     "1.02 "    ,  "1.02 "       ,     "-"        ,     "1.02 "    ,    "1.02"     ,    "1.02"     ,    "1.040"    ,    "1.040"    ,  "1.040"     ,    "1.040"     ,   "1.040"      ,    "-"         ,    "1.040"     ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,     "-"       ,    "-"         ,     "-"      , "-"       , "-"    ]
	tauEff_pes         =[     "1.05"     ,     "1.05"     ,  "1.05"        ,     "-"        ,     "1.05"     ,    "1.05"     ,    "1.05"     ,    "1.100"    ,    "1.100"    ,  "1.100"     ,    "1.100"     ,   "1.100"      ,    "-"         ,    "1.100"     ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "-"        ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,     "-"       ,    "-"         ,     "-"      , "-"       , "-"    ]
#0.5/1/1.5 x lepton
	lepton_ID_opt      =[     "1.005"    ,    "1.005"     ,    "1.005"     ,     "-"        ,    "1.005"     ,    "1.005"    ,    "1.005"    ,    "-"        ,    "-"        ,  "-"         ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "1.01 "     ,   "1.01 "      ,  "1.01 "       ,   "1.01 "      ,    "1.01 "     ,   "-"          ,   "-"          ,    "-"         ,   "-"          ,    "-"        ,      "-"       ,    "-"           ,    "-"        ,    "-"         ,    "-"		 , "-"       , "-"    ]
	lepton_ID_int      =[     "1.010"    ,     "1.010"    ,    "1.010"     ,     "-"        ,     "1.010"    ,    "1.010"    ,    "1.010"    ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "1.020"    ,      "1.020"   ,  "1.020"       ,   "1.020"      ,     "1.020"    ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
	lepton_ID_pes      =[     "1.015"    ,     "1.015"    ,    "1.015"     ,     "-"        ,     "1.015"    ,    "1.015"    ,    "1.015"    ,    "-"        ,    "-"        ,  "-"         ,     "-"        ,   "-"          ,    "-"         ,     "-"        ,     "1.030"    ,      "1.030"   ,  "1.030"       ,   "1.030"      ,     "1.030"    ,    "-"         ,     "-"        ,    "-"         ,    "-"         ,    "-"        ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]

	lumi_opt           =[     "1.005"    ,    "1.005"     ,    "1.005"     ,     "1.005"    ,    "1.005"     ,    "1.005"    ,    "1.005"    ,    "1.005"    ,    "1.005"    ,  "1.005"     ,    "1.005"     ,   "1.005"      ,  "1.005"       ,    "1.005"     ,    "1.005"     ,   "1.005"      ,  "1.005"       ,   "1.005"      ,    "1.005"     ,   "1.005"      ,   "1.005"      ,    "-"         ,   "1.005"      ,    "-"        ,      "1.005"   ,    "1.005"       ,    "1.005"    ,    "-"         ,    "-"		 , "1.005"   , "1.005"]
	lumi_int           =[     "1.010"    ,     "1.010"    ,    "1.010"     ,     "1.010"    ,     "1.010"    ,    "1.010"    ,    "1.010"    ,    "1.010"    ,    "1.010"    ,  "1.010"     ,     "1.010"    ,   "1.010"      ,    "1.010"     ,     "1.010"    ,     "1.010"    ,      "1.010"   ,  "1.010"       ,   "1.010"      ,     "1.010"    ,    "1.010"     ,     "1.010"    ,    "-"         ,    "1.010"     ,    "-"        ,     "1.010"    ,      "1.010"     ,    "1.010"    ,    "-"         ,     "-"      , "1.010"   , "1.010"]
	lumi_pes           =[     "1.020"    ,     "1.020"    ,    "1.020"     ,     "1.020"    ,     "1.020"    ,    "1.020"    ,    "1.020"    ,    "1.020"    ,    "1.020"    ,  "1.020"     ,     "1.020"    ,   "1.020"      ,    "1.020"     ,     "1.020"    ,     "1.020"    ,      "1.020"   ,  "1.020"       ,   "1.020"      ,     "1.020"    ,    "1.020"     ,     "1.020"    ,    "-"         ,    "1.020"     ,    "-"        ,     "1.020"    ,      "1.020"     ,    "1.020"    ,    "-"         ,     "-"      , "1.020"   , "1.020"]
#1/2/3.5 x jet (same as tau)
	jets_ID_opt        =[     "-"        ,    "1.020"     ,    "-"         ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,    "1.020"     ,   "-"          ,  "-"           ,	  "-"       ,     "-"        ,   "-"          ,  "-"           ,   "-"          ,    "1.020"     ,   "-"          ,   "-"          ,    "1.030"     ,   "-"          ,    "1.020"    ,     "-"        ,    "-"           ,    "-"        ,    "-"         ,    "-"		 , "-"       , "-"    ]
	jets_ID_int        =[     "-"        ,    "1.040"     ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "1.040"    ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "1.040"    ,    "-"         ,     "-"        ,    "1.060"     ,    "-"         ,    "1.040"    ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
	jets_ID_pes        =[     "-"        ,    "1.070"     ,    "-"         ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "-"         ,     "1.070"    ,   "-"          ,    "-"         ,     "-"        ,     "-"        ,      "-"       ,  "-"           ,   "-"          ,     "1.070"    ,    "-"         ,     "-"        ,    "1.105"     ,    "-"         ,    "1.070"    ,     "-"        ,      "-"         ,      "-"      ,    "-"         ,     "-"      , "-"       , "-"    ]
#0.5/1/2 x b-jet
	btag_opt           =[     "1.010"    ,    "-"         ,  "1.01"        ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.010"     ,    "-"         ,   "1.01"       ,  "-"           ,    "-"         ,    "1.010"     ,   "-"          ,  "1.010"       ,   "1.010"      ,    "1.010"     ,   "1.010"      ,   "1.010"      ,    "-"         ,   "-"          ,    "-"        ,   "1.01"       ,    "1.02 "       ,    "1.02 "    ,    "1.010"     ,     "-"      , "1.02"     , "1.01" ] #1.01
	btag_int           =[     "1.020"    ,     "-"        ,  "1.02"        ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.020"     ,      "-"       ,   "1.02"       ,    "-"         ,     "-"        ,     "1.020"    ,      "-"       ,  "1.020"       ,   "1.020"      ,     "1.020"    ,    "1.020"     ,     "1.020"    ,    "-"         ,    "-"         ,    "-"        ,   "1.02"       ,    "1.04 "       ,    "1.04 "    ,    "1.020"     ,     "-"      , "1.04"     , "1.02" ] #1.02
	btag_pes           =[     "1.040"    ,     "-"        ,  "1.04"        ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.040"     ,      "-"       ,   "1.04"       ,    "-"         ,     "-"        ,     "1.040"    ,      "-"       ,  "1.040"       ,   "1.040"      ,     "1.040"    ,    "1.040"     ,     "1.040"    ,    "-"         ,    "-"         ,    "-"        ,   "1.04"       ,    "1.08 "       ,    "1.08 "    ,    "1.040"     ,     "-"      , "1.08"     , "1.04" ] #1.04

	xsecHH_opt         =[     "1.005"    ,    "-"         ,  "-"           ,     "-"        ,    "-"         ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.005"     ,    "-"         ,   "-"          ,  "-"           ,    "-"         ,    "1.005"     ,     "-"        ,  "-"           ,   "-"          ,      "-"       ,   "1.005"      ,    "-"         ,    "-"         ,   "-"          ,    "-"        ,   "-"          ,    "1.005 "       ,    "-"       ,    "-"         ,     "-"      , "-"         , "-" ]
	xsecHH_int         =[     "1.010"    ,     "-"        ,  "-"           ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.010"     ,      "-"       ,   "-"          ,    "-"         ,     "-"        ,     "1.010"    ,      "-"       ,  "-"           ,   "-"          ,      "-"       ,    "1.010"     ,    "-"         ,    "-"         ,    "-"         ,    "-"        ,   "-"          ,    "1.010 "       ,    "-"       ,    "-"         ,     "-"      , "-"         , "-" ]
	xsecHH_pes         =[     "1.015"    ,     "-"        ,  "-"           ,     "-"        ,     "-"        ,    "-"        ,    "-"        ,    "-"        ,    "-"        ,  "1.015"     ,      "-"       ,   "-"          ,    "-"         ,     "-"        ,     "1.015"    ,      "-"       ,  "-"           ,   "-"          ,      "-"       ,    "1.015"     ,    "-"         ,    "-"         ,    "-"         ,    "-"        ,   "-"          ,    "1.015 "       ,    "-"       ,    "-"         ,     "-"      , "-"         , "-" ]

	###
	listOfNuis = ["xsec_tt","xsec_ttH","xsec_QCD","xsec_Zbb","gamma_ID","tauEff","lepton_ID","lumi","jets_ID","btag","gamma_ID_bkg","xsec_HH"]
	if opt.scenario == 1 : 
		listOfNuisArr = [xsec_tt_opt,xsec_ttH_opt,xsec_QCD_opt,xsec_Zbb_opt,gamma_ID_opt,tauEff_opt,lepton_ID_opt,lumi_opt,jets_ID_opt,btag_opt,gamma_ID_bkg_opt,xsecHH_opt]
		keyword = "optimist"
	elif opt.scenario == 2 : 
		listOfNuisArr = [xsec_tt_int,xsec_ttH_int,xsec_QCD_int,xsec_Zbb_int,gamma_ID_int,tauEff_int,lepton_ID_int,lumi_int,jets_ID_int,btag_int,gamma_ID_bkg_int,xsecHH_int]
		keyword = "intermediate"
	else  : 
		listOfNuisArr = [xsec_tt_pes,xsec_ttH_pes,xsec_QCD_pes,xsec_Zbb_pes,gamma_ID_pes,tauEff_pes,lepton_ID_pes,lumi_pes,jets_ID_pes,btag_pes,gamma_ID_bkg_pes,xsecHH_pes]
		keyword = "pessimistic"
	
	#for scenario in opt/int/pes
	for nuis in range(len(listOfNuis)) :
		for iArray in range(len(channel)):
			dd [( keyword,channel[iArray],process[iArray],listOfNuis[nuis] )] = listOfNuisArr[nuis][iArray]	
	return dd

def parseOptions():

    usage = ('usage: %prog [options] datasetList\n'+ '%prog -h for help')
    parser = optparse.OptionParser(usage)
    parser.add_option('-s', '--scenario', dest='scenario', type='int', default=1, help='systematics 1=opt, 2=int, 3=pes')
    #parser.add_option('-s', '--stop', dest='stop', type='int', default=1, help='stop to see the plot')
    global opt, args
    (opt, args) = parser.parse_args()

parseOptions()
global opt, args
suffix = "_syst{0}".format(opt.scenario)
outFile = open("card1.00_bb4l{0}.txt".format(suffix),"w")

dd = createDict()
scenarioID = "optimist"
if opt.scenario == 2 : scenarioID = "intermediate"
elif opt.scenario == 3 : scenarioID = "pessimistic"

nuisances = ["xsec_tt","xsec_ttH","xsec_QCD","xsec_Zbb","gamma_ID","tauEff","lepton_ID","lumi","jets_ID","btag","gamma_ID_bkg","xsec_HH"]
listOfProc = ["HH",    	"ttH",     "bbH", 	 "ZH",	"ttZ"]
for line in open("hh_bb4l_klcard.txt",'r') :
	if not "lumiAll" in line :
		outFile.write(line)
	else :
		for nuis in nuisances : 
			outFile.write("{5}     lnN    {0} {1} {2} {3} {4} \n".format(dd[scenarioID,"ch3",listOfProc[0],nuis],dd[scenarioID,"ch3",listOfProc[1],nuis],dd[scenarioID,"ch3",listOfProc[2],nuis],dd[scenarioID,"ch3",listOfProc[3],nuis],dd[scenarioID,"ch3",listOfProc[4],nuis],nuis)) #dd [( scenarioID,channel[iArray],process[iArray],listOfNuis[nuis] )] = listOfNuisArr[nuis][iArray]	









